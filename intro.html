<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="Nostrum v0.5.0-rc1">

    <title>Intro — Nostrum v0.5.0-rc1</title>
    <link rel="stylesheet" href="dist/elixir-a172fe91e725dcb259e2.css" />

    <script src="dist/sidebar_items-52ba820cea.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f27ff079945e43879c46.js"></script>


  </head>
  <body data-type="extras">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="https://github.com/kraigie/nostrum" class="sidebar-projectName">
Nostrum
      </a>
      <strong class="sidebar-projectVersion">
        v0.5.0-rc1
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


      <li><a id="tasks-list-link" href="#full-list">Mix Tasks</a></li>

  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>Intro</h1><p>Nostrum is a an Elixir library that can be used to interact with Discord.</p><p>Nostrum currently supports versions of Elixir at or above v. 1.10.</p><p>With a platform like Discord, there are many moving parts and an attempt was made
to break these parts into smaller logical pieces.</p><p>To see documentation about a specific part of the library, please visit one of
the following -</p><ul><li><a href="api.html">API</a> - Methods to interact with the RESTful API (and some other goodies).</li><li><a href="state.html">State</a> - <code class="inline">Caches</code> that hold the state of Discord that your bot can see.</li><li><a href="events.html">Events</a> - How you can handle real time events that your bot can see.</li><li><a href="consumers.html">Custom Consumers</a> - Information on defining custom consumer processes.</li><li><a href="voice.html">Voice</a> - Playing audio through Discord voice channels.</li></ul><h3 id="why-elixir" class="section-heading">
  <a href="#why-elixir" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Why Elixir?
</h3>
<p>From the Elixir website -</p><blockquote><p>Elixir is a dynamic, functional language designed for building scalable and
maintainable applications.</p></blockquote><blockquote><p>Elixir leverages the Erlang VM, known for running low-latency, distributed and
fault-tolerant systems, while also being successfully used in web development
and the embedded software domain.</p></blockquote><p><strong>How does Nostrum leverage these benefits?</strong></p><p><em>Fault tolerance</em> - Nostrum attempts, where reasonable, to allow for different
parts of the application to fail with minimal harm. Supervisors are used heavily
to ensure that anything that breaks will be restarted. Nostrum attempts to avoid
most errors, but if they do occur (<em>and they will!</em>) it shouldn't be the end of
the world.</p><p><em>Concurrency</em> - Concurrency is considered to be a first class citizen in Elixir.
Through the use of SMP and processes, information should travel through the
application quickly.</p><p><em>Distributed</em> - Nostrum does not currently supported any sort of <code class="inline">Distributed</code>
mode out of the box. By default everything is ran on the one <code class="inline">node</code> that you
launch the application from. I'm open to suggestions as to how Nostrum could
leverage being spread across many nodes.</p><h3 id="usage" class="section-heading">
  <a href="#usage" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Usage
</h3>
<p>There are two versions of Nostrum, a stable version released on Hex and a dev
version on GitHub. The dev version will be more up to date but will likely
have more errors.</p><p>Add Nostrum as a dependency:</p><p> <em>Stable</em></p><pre><code class="Elixir">def deps do
  [{:nostrum, &quot;~&gt; 0.4&quot;}]
end</code></pre><p> <em>Dev</em></p><pre><code class="Elixir">def deps do
  [{:nostrum, git: &quot;https://github.com/Kraigie/nostrum.git&quot;}]
end</code></pre><p>Edit or create your config file:</p><p>The file should be located at <code class="inline">/config/config.exs</code>. To run Nostrum you need the
following two fields:</p><pre><code class="Elixir">config :nostrum,
  token: &quot;666&quot;  # The token of your bot as a string</code></pre><p>The following fields are also supported:</p><ul><li><code class="inline">num_shards</code> - A fixed number of shards to run, or <code class="inline">:auto</code> to have Nostrum determine it automatically. Defaults to <code class="inline">:auto</code>.</li><li><code class="inline">ffmpeg</code> - Specifies the path to the <code class="inline">ffmpeg</code> executable for playing audio. Defaults to <code class="inline">&quot;ffmpeg&quot;</code>.</li><li><code class="inline">youtubedl</code> - Specifies the path to the <code class="inline">youtube-dl</code> executable for playing audio with youtube-dl support. Defaults to <code class="inline">&quot;youtube-dl&quot;</code>.</li><li><code class="inline">streamlink</code> - Specifies the path to the <code class="inline">streamlink</code> executable for playing livestream audio with streamlink support. Defaults to <code class="inline">&quot;streamlink&quot;</code>.</li><li><code class="inline">gateway_intents</code> - This field takes a list of atoms representing gateway intents for Nostrum to subscribe to from the Discord API. More information can be found in the <a href="gateway-intents.html">gateway intents</a> documentation page.</li><li><code class="inline">audio_timeout</code> - Milliseconds that input must begin generating audio by upon invoking <code class="inline">play</code>. More information about this option can be found in the <a href="voice.html">voice</a> documentation page. Defaults to <code class="inline">20_000</code> (20s).</li><li><code class="inline">audio_frames_per_burst</code> - Number of opus frames to send at a time while playing audio. More information about this option can be found in the <a href="voice.html">voice</a> documentation page. Defaults to <code class="inline">10</code>.</li><li><code class="inline">voice_auto_connect</code> - This will determine if Nostrum automatically connects to voice websockets gateways upon joining voice channels. If set to <code class="inline">false</code> but you still wish to connect to the voice gateway, you can do so manually by calling <a href="Nostrum.Voice.html#connect_to_gateway/1"><code class="inline">Nostrum.Voice.connect_to_gateway/1</code></a> after joining a voice channel. Defaults to <code class="inline">true</code>.</li><li><code class="inline">dev</code> - This is added to enable Nostrum to be run completely stand alone for
development purposes. <code class="inline">true</code> will cause Nostrum to spawn its own event consumers.
If you have the dev flag set to true while running Nostrum alongside your
application some of your events will be consumed. Defaults to <code class="inline">false</code>.</li><li><code class="inline">log_full_events</code> - This will log the full payload received over the websocket.
This is included primarily for debugging and testing purposes. Defaults to <code class="inline">false</code>.</li><li><code class="inline">log_dispatch_events</code> - This will log dispatch events as they are received from the gateway.
This is included primarily for debugging and testing purposes. Defaults to <code class="inline">false</code>. </li><li><code class="inline">custom_consumer</code> - For use when creating custom consumer processes. This disables
all caching done internally, in lieu of sending dispatch events to the processes
you specify. For more information see <a href="consumers.html">creating custom consumers</a>.
Defaults to <code class="inline">false</code>.</li><li><code class="inline">request_guild_members</code> - This will perform member chunking to retrieve a complete list of
members for all guilds. This will increase start up time and memory usage by quite a bit.
Defaults to <code class="inline">false</code>.</li><li><code class="inline">fullsweep_after_default</code> - Sets the <code class="inline">fullsweep_after</code> flag for processes that can have
irregularly high memory usage due to Discord payloads. This options will dramatically reduce the
amount of memory used by some processes at the cost of increased CPU usage. This is useful if
you're running your application under a memory constrained environment. This comes at the cost
of increased CPU usage. By default, this option will only affect some processes. You can set
this flag for <em>all</em> processes using environment variables or by <a href="http://erlang.org/doc/man/erlang.html#system_flag-2">setting the system flag yourself</a>.
Defaults to whatever your system recommends, which is probably <code class="inline">65535</code>.</li></ul><p>By default, Nostrum logs a lot of data using <a href="https://hexdocs.pm/logger/Logger.html"><code class="inline">Logger</code></a>. If you want to ignore
Logger debug data, include the following:</p><pre><code class="Elixir">config :logger,
  level: :warn</code></pre><p>Nostrum exposes the following metadata fields through logger:</p><ul><li><code class="inline">shard</code> - Id of the shard on which the event occurred</li><li><code class="inline">guild</code> - Name of the guild on which the voice connection event occurred</li><li><code class="inline">channel</code> - Name of the channel on which the voice connection event occurred</li></ul><p>To enable this metadata, logger can be configured as such:</p><pre><code class="Elixir">config :logger, :console,
  metadata: [:shard, :guild, :channel]</code></pre><p>For more information on how this works, please see the Logger
<a href="https://hexdocs.pm/logger/Logger.html#module-levels">documentation</a>
Nostrum takes advantage of <code class="inline">:debug</code>, <code class="inline">:warn</code>, and <code class="inline">:info</code>.</p><h3 id="example-bot" class="section-heading">
  <a href="#example-bot" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Example Bot
</h3>
<p>A very simple example bot can be found
<a href="https://github.com/Kraigie/nostrum/blob/master/examples/event_consumer.ex">here</a>.</p><p>A more complex bot can be found <a href="https://github.com/jchristgit/bolt">here</a>.</p><p>An example bot that plays audio through voice channels can be found <a href="https://github.com/Kraigie/nostrum/blob/master/examples/audio_player_example.ex">here</a>.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="api.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Api
        </span>
      </a>

  </div>
</div>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
